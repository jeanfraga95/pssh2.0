{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{toast}from'react-toastify';import{useAuth}from'../contexts/AuthContext';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[stats,setStats]=useState({online_users:0,total_ssh_access:0,total_users:0});const[loading,setLoading]=useState(true);const{user}=useAuth();useEffect(()=>{fetchStats();},[]);const fetchStats=async()=>{try{const response=await axios.get('/api/monitor/stats');if(response.data.success){setStats(response.data.stats);}}catch(error){toast.error('Erro ao carregar estatísticas');}finally{setLoading(false);}};const getRoleLabel=role=>{const labels={admin:'Administrador',revenda:'Revenda',sub_revenda:'Sub-revenda',cliente:'Cliente'};return labels[role]||role;};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Carregando dashboard...\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Bem-vindo, \",user===null||user===void 0?void 0:user.username,\"! (\",getRoleLabel(user===null||user===void 0?void 0:user.role),\")\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_users}),/*#__PURE__*/_jsx(\"p\",{children:\"Total de Usu\\xE1rios\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDD10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.total_ssh_access}),/*#__PURE__*/_jsx(\"p\",{children:\"Acessos SSH\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDFE2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.online_users}),/*#__PURE__*/_jsx(\"p\",{children:\"Usu\\xE1rios Online\"})]})]}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDDA5\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Servidores\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Resumo do Sistema\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Sistema:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:\"Painel SSH v1.0\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value status-active\",children:\"Ativo\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\xDAltima atualiza\\xE7\\xE3o:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:new Date().toLocaleString('pt-BR')})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDE80 A\\xE7\\xF5es R\\xE1pidas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions\",children:[(user===null||user===void 0?void 0:user.role)!=='cliente'&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:\"\\u2795 Criar Usu\\xE1rio\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:\"\\uD83D\\uDD10 Gerenciar SSH\"}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:\"\\uD83D\\uDDA5\\uFE0F Adicionar Servidor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn\",children:\"\\uD83D\\uDCB3 Ver Pagamentos\"})]})]})]}),(user===null||user===void 0?void 0:user.role)==='admin'&&/*#__PURE__*/_jsxs(\"div\",{className:\"admin-panel\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2699\\uFE0F Painel Administrativo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"admin-btn\",children:\"\\uD83D\\uDD27 Configura\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-btn\",children:\"\\uD83D\\uDCBE Backup\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-btn\",children:\"\\uD83D\\uDCC8 Monitor\"}),/*#__PURE__*/_jsx(\"button\",{className:\"admin-btn\",children:\"\\uD83D\\uDD10 Seguran\\xE7a\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","axios","toast","useAuth","jsx","_jsx","jsxs","_jsxs","Dashboard","stats","setStats","online_users","total_ssh_access","total_users","loading","setLoading","user","fetchStats","response","get","data","success","error","getRoleLabel","role","labels","admin","revenda","sub_revenda","cliente","className","children","username","Date","toLocaleString"],"sources":["C:/Users/Assistencia/Desktop/p-ssh-web-main/client/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n  const [stats, setStats] = useState({\r\n    online_users: 0,\r\n    total_ssh_access: 0,\r\n    total_users: 0\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchStats();\r\n  }, []);\r\n\r\n  const fetchStats = async () => {\r\n    try {\r\n      const response = await axios.get('/api/monitor/stats');\r\n      if (response.data.success) {\r\n        setStats(response.data.stats);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Erro ao carregar estatísticas');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRoleLabel = (role) => {\r\n    const labels = {\r\n      admin: 'Administrador',\r\n      revenda: 'Revenda',\r\n      sub_revenda: 'Sub-revenda',\r\n      cliente: 'Cliente'\r\n    };\r\n    return labels[role] || role;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"dashboard-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Carregando dashboard...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h1>Dashboard</h1>\r\n        <p>Bem-vindo, {user?.username}! ({getRoleLabel(user?.role)})</p>\r\n      </div>\r\n\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">👥</div>\r\n          <div className=\"stat-content\">\r\n            <h3>{stats.total_users}</h3>\r\n            <p>Total de Usuários</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">🔐</div>\r\n          <div className=\"stat-content\">\r\n            <h3>{stats.total_ssh_access}</h3>\r\n            <p>Acessos SSH</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon\">🟢</div>\r\n          <div className=\"stat-content\">\r\n            <h3>{stats.online_users}</h3>\r\n            <p>Usuários Online</p>\r\n          </div>\r\n        </div>\r\n\r\n        {user?.role === 'admin' && (\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon\">🖥️</div>\r\n            <div className=\"stat-content\">\r\n              <h3>-</h3>\r\n              <p>Servidores</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"dashboard-content\">\r\n        <div className=\"content-grid\">\r\n          <div className=\"content-card\">\r\n            <h3>📊 Resumo do Sistema</h3>\r\n            <div className=\"summary\">\r\n              <div className=\"summary-item\">\r\n                <span className=\"label\">Sistema:</span>\r\n                <span className=\"value\">Painel SSH v1.0</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span className=\"label\">Status:</span>\r\n                <span className=\"value status-active\">Ativo</span>\r\n              </div>\r\n              <div className=\"summary-item\">\r\n                <span className=\"label\">Última atualização:</span>\r\n                <span className=\"value\">{new Date().toLocaleString('pt-BR')}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"content-card\">\r\n            <h3>🚀 Ações Rápidas</h3>\r\n            <div className=\"quick-actions\">\r\n              {user?.role !== 'cliente' && (\r\n                <button className=\"action-btn\">\r\n                  ➕ Criar Usuário\r\n                </button>\r\n              )}\r\n              <button className=\"action-btn\">\r\n                🔐 Gerenciar SSH\r\n              </button>\r\n              {user?.role === 'admin' && (\r\n                <button className=\"action-btn\">\r\n                  🖥️ Adicionar Servidor\r\n                </button>\r\n              )}\r\n              <button className=\"action-btn\">\r\n                💳 Ver Pagamentos\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {user?.role === 'admin' && (\r\n          <div className=\"admin-panel\">\r\n            <h3>⚙️ Painel Administrativo</h3>\r\n            <div className=\"admin-actions\">\r\n              <button className=\"admin-btn\">\r\n                🔧 Configurações\r\n              </button>\r\n              <button className=\"admin-btn\">\r\n                💾 Backup\r\n              </button>\r\n              <button className=\"admin-btn\">\r\n                📈 Monitor\r\n              </button>\r\n              <button className=\"admin-btn\">\r\n                🔐 Segurança\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}