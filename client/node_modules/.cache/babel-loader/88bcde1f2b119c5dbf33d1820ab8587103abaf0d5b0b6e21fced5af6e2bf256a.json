{"ast":null,"code":"import _objectSpread from\"C:/Users/Assistencia/Desktop/p-ssh-web-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{toast}from'react-toastify';import{useAuth}from'../contexts/AuthContext';import'./Backup.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Backup=()=>{const[backups,setBackups]=useState([]);const[loading,setLoading]=useState(true);const[showConfigModal,setShowConfigModal]=useState(false);const[configData,setConfigData]=useState({bot_token:'',chat_id:''});const{user}=useAuth();useEffect(()=>{fetchBackups();if((user===null||user===void 0?void 0:user.role)==='admin'){fetchConfig();}},[user]);const fetchBackups=async()=>{try{const response=await axios.get('/api/backup/list');if(response.data.success){setBackups(response.data.backups);}}catch(error){toast.error('Erro ao carregar backups');}finally{setLoading(false);}};const fetchConfig=async()=>{try{const response=await axios.get('/api/backup/telegram-config');if(response.data.success){setConfigData(response.data.config);}}catch(error){console.error('Erro ao carregar configurações');}};const handleConfigSubmit=async e=>{e.preventDefault();try{await axios.post('/api/backup/telegram-config',configData);toast.success('Configurações do Telegram salvas com sucesso!');setShowConfigModal(false);}catch(error){toast.error('Erro ao salvar configurações');}};const createBackup=async()=>{try{const response=await axios.post('/api/backup/create');if(response.data.success){toast.success('Backup criado com sucesso!');fetchBackups();}}catch(error){toast.error('Erro ao criar backup');}};const restoreBackup=async backupFile=>{if(!window.confirm('Tem certeza que deseja restaurar este backup? Esta ação irá substituir todos os dados atuais.')){return;}try{await axios.post('/api/backup/restore',{backup_file:backupFile});toast.success('Backup restaurado com sucesso!');fetchBackups();}catch(error){toast.error('Erro ao restaurar backup');}};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB','GB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"backup-loading\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Carregando backups...\"})]});}if((user===null||user===void 0?void 0:user.role)!=='admin'){return/*#__PURE__*/_jsx(\"div\",{className:\"backup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"access-denied\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDEAB Acesso Negado\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Apenas administradores podem gerenciar backups.\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"backup\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"backup-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCBE Gerenciar Backups\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"backup-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:()=>setShowConfigModal(true),children:\"\\u2699\\uFE0F Configurar Telegram\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:createBackup,children:\"\\uD83D\\uDD04 Criar Backup\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"backup-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"backup-info\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCA Informa\\xE7\\xF5es do Sistema\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Backup Autom\\xE1tico:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:\"A cada 8 horas\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"\\xDAltimo Backup:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:backups.length>0?new Date(backups[0].created_at).toLocaleString('pt-BR'):'Nenhum backup encontrado'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Total de Backups:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"value\",children:backups.length})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"backups-list\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC1 Lista de Backups\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:backups.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Nenhum backup encontrado\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Arquivo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tamanho\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Criado em\"}),/*#__PURE__*/_jsx(\"th\",{children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:backups.map(backup=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:backup.filename}),/*#__PURE__*/_jsx(\"td\",{children:formatFileSize(backup.size)}),/*#__PURE__*/_jsx(\"td\",{children:new Date(backup.created_at).toLocaleString('pt-BR')}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-success\",onClick:()=>restoreBackup(backup.filename),title:\"Restaurar Backup\",children:\"\\uD83D\\uDD04\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-info\",onClick:()=>window.open(\"/api/backup/download/\".concat(backup.filename),'_blank'),title:\"Download\",children:\"\\uD83D\\uDCE5\"})]})})]},backup.filename))})]})})})]})]}),showConfigModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:()=>setShowConfigModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Configurar Telegram Bot\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:()=>setShowConfigModal(false),children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleConfigSubmit,className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Bot Token\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:configData.bot_token,onChange:e=>setConfigData(_objectSpread(_objectSpread({},configData),{},{bot_token:e.target.value})),placeholder:\"123456789:ABCdefGHIjklMNOpqrsTUVwxyz\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Chat ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:configData.chat_id,onChange:e=>setConfigData(_objectSpread(_objectSpread({},configData),{},{chat_id:e.target.value})),placeholder:\"123456789\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-info\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u2139\\uFE0F Informa\\xE7\\xE3o:\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Crie um bot no @BotFather do Telegram\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Obtenha o token do bot\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Envie uma mensagem para o bot e obtenha o Chat ID\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>setShowConfigModal(false),children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Salvar Configura\\xE7\\xF5es\"})]})]})]})})]});};export default Backup;","map":{"version":3,"names":["React","useState","useEffect","axios","toast","useAuth","jsx","_jsx","jsxs","_jsxs","Backup","backups","setBackups","loading","setLoading","showConfigModal","setShowConfigModal","configData","setConfigData","bot_token","chat_id","user","fetchBackups","role","fetchConfig","response","get","data","success","error","config","console","handleConfigSubmit","e","preventDefault","post","createBackup","restoreBackup","backupFile","window","confirm","backup_file","formatFileSize","bytes","k","sizes","i","Math","floor","log","parseFloat","pow","toFixed","className","children","onClick","length","Date","created_at","toLocaleString","map","backup","filename","size","title","open","concat","stopPropagation","onSubmit","type","value","onChange","_objectSpread","target","placeholder","required"],"sources":["C:/Users/Assistencia/Desktop/p-ssh-web-main/client/src/pages/Backup.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { toast } from 'react-toastify';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport './Backup.css';\r\n\r\nconst Backup = () => {\r\n  const [backups, setBackups] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showConfigModal, setShowConfigModal] = useState(false);\r\n  const [configData, setConfigData] = useState({\r\n    bot_token: '',\r\n    chat_id: ''\r\n  });\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchBackups();\r\n    if (user?.role === 'admin') {\r\n      fetchConfig();\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchBackups = async () => {\r\n    try {\r\n      const response = await axios.get('/api/backup/list');\r\n      if (response.data.success) {\r\n        setBackups(response.data.backups);\r\n      }\r\n    } catch (error) {\r\n      toast.error('Erro ao carregar backups');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchConfig = async () => {\r\n    try {\r\n      const response = await axios.get('/api/backup/telegram-config');\r\n      if (response.data.success) {\r\n        setConfigData(response.data.config);\r\n      }\r\n    } catch (error) {\r\n      console.error('Erro ao carregar configurações');\r\n    }\r\n  };\r\n\r\n  const handleConfigSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    try {\r\n      await axios.post('/api/backup/telegram-config', configData);\r\n      toast.success('Configurações do Telegram salvas com sucesso!');\r\n      setShowConfigModal(false);\r\n    } catch (error) {\r\n      toast.error('Erro ao salvar configurações');\r\n    }\r\n  };\r\n\r\n  const createBackup = async () => {\r\n    try {\r\n      const response = await axios.post('/api/backup/create');\r\n      if (response.data.success) {\r\n        toast.success('Backup criado com sucesso!');\r\n        fetchBackups();\r\n      }\r\n    } catch (error) {\r\n      toast.error('Erro ao criar backup');\r\n    }\r\n  };\r\n\r\n  const restoreBackup = async (backupFile) => {\r\n    if (!window.confirm('Tem certeza que deseja restaurar este backup? Esta ação irá substituir todos os dados atuais.')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.post('/api/backup/restore', { backup_file: backupFile });\r\n      toast.success('Backup restaurado com sucesso!');\r\n      fetchBackups();\r\n    } catch (error) {\r\n      toast.error('Erro ao restaurar backup');\r\n    }\r\n  };\r\n\r\n  const formatFileSize = (bytes) => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"backup-loading\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Carregando backups...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (user?.role !== 'admin') {\r\n    return (\r\n      <div className=\"backup\">\r\n        <div className=\"access-denied\">\r\n          <h1>🚫 Acesso Negado</h1>\r\n          <p>Apenas administradores podem gerenciar backups.</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"backup\">\r\n      <div className=\"backup-header\">\r\n        <h1>💾 Gerenciar Backups</h1>\r\n        <div className=\"backup-actions\">\r\n          <button \r\n            className=\"btn btn-secondary\"\r\n            onClick={() => setShowConfigModal(true)}\r\n          >\r\n            ⚙️ Configurar Telegram\r\n          </button>\r\n          <button \r\n            className=\"btn btn-primary\"\r\n            onClick={createBackup}\r\n          >\r\n            🔄 Criar Backup\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"backup-content\">\r\n        <div className=\"backup-info\">\r\n          <div className=\"info-card\">\r\n            <h3>📊 Informações do Sistema</h3>\r\n            <div className=\"info-grid\">\r\n              <div className=\"info-item\">\r\n                <span className=\"label\">Backup Automático:</span>\r\n                <span className=\"value\">A cada 8 horas</span>\r\n              </div>\r\n              <div className=\"info-item\">\r\n                <span className=\"label\">Último Backup:</span>\r\n                <span className=\"value\">\r\n                  {backups.length > 0 \r\n                    ? new Date(backups[0].created_at).toLocaleString('pt-BR')\r\n                    : 'Nenhum backup encontrado'\r\n                  }\r\n                </span>\r\n              </div>\r\n              <div className=\"info-item\">\r\n                <span className=\"label\">Total de Backups:</span>\r\n                <span className=\"value\">{backups.length}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"backups-list\">\r\n          <h3>📁 Lista de Backups</h3>\r\n          <div className=\"card\">\r\n            {backups.length === 0 ? (\r\n              <div className=\"empty-state\">\r\n                <p>Nenhum backup encontrado</p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"table-responsive\">\r\n                <table className=\"table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Arquivo</th>\r\n                      <th>Tamanho</th>\r\n                      <th>Criado em</th>\r\n                      <th>Ações</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {backups.map((backup) => (\r\n                      <tr key={backup.filename}>\r\n                        <td>{backup.filename}</td>\r\n                        <td>{formatFileSize(backup.size)}</td>\r\n                        <td>{new Date(backup.created_at).toLocaleString('pt-BR')}</td>\r\n                        <td>\r\n                          <div className=\"action-buttons\">\r\n                            <button \r\n                              className=\"btn btn-sm btn-success\"\r\n                              onClick={() => restoreBackup(backup.filename)}\r\n                              title=\"Restaurar Backup\"\r\n                            >\r\n                              🔄\r\n                            </button>\r\n                            <button \r\n                              className=\"btn btn-sm btn-info\"\r\n                              onClick={() => window.open(`/api/backup/download/${backup.filename}`, '_blank')}\r\n                              title=\"Download\"\r\n                            >\r\n                              📥\r\n                            </button>\r\n                          </div>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal de configuração */}\r\n      {showConfigModal && (\r\n        <div className=\"modal-overlay\" onClick={() => setShowConfigModal(false)}>\r\n          <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h3>Configurar Telegram Bot</h3>\r\n              <button \r\n                className=\"modal-close\"\r\n                onClick={() => setShowConfigModal(false)}\r\n              >\r\n                ✕\r\n              </button>\r\n            </div>\r\n            \r\n            <form onSubmit={handleConfigSubmit} className=\"modal-body\">\r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Bot Token</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={configData.bot_token}\r\n                  onChange={(e) => setConfigData({...configData, bot_token: e.target.value})}\r\n                  placeholder=\"123456789:ABCdefGHIjklMNOpqrsTUVwxyz\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"form-group\">\r\n                <label className=\"form-label\">Chat ID</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={configData.chat_id}\r\n                  onChange={(e) => setConfigData({...configData, chat_id: e.target.value})}\r\n                  placeholder=\"123456789\"\r\n                  required\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"alert alert-info\">\r\n                <strong>ℹ️ Informação:</strong> \r\n                <ul>\r\n                  <li>Crie um bot no @BotFather do Telegram</li>\r\n                  <li>Obtenha o token do bot</li>\r\n                  <li>Envie uma mensagem para o bot e obtenha o Chat ID</li>\r\n                </ul>\r\n              </div>\r\n              \r\n              <div className=\"modal-footer\">\r\n                <button \r\n                  type=\"button\" \r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setShowConfigModal(false)}\r\n                >\r\n                  Cancelar\r\n                </button>\r\n                <button type=\"submit\" className=\"btn btn-primary\">\r\n                  Salvar Configurações\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Backup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}